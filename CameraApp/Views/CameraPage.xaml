<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="CameraApp.Views.CameraPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:CameraApp.ViewModels"
             xmlns:services="clr-namespace:CameraApp.Services"
             Title="{Binding [Camera_AppTitle], Source={x:Static services:LocalizationResourceManager.Instance}}"
             x:DataType="vm:CameraPageViewModel">
    
    <ScrollView>
        <StackLayout Padding="20" Spacing="20">
            
            <!-- Título -->
            <Label Text="{Binding [Camera_AppTitle], Source={x:Static services:LocalizationResourceManager.Instance}}"
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="{StaticResource Primary}" />
            
            <!-- Botões de ação -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                <Button Grid.Column="0"
                        Text="{Binding [Camera_TakePhoto], Source={x:Static services:LocalizationResourceManager.Instance}}"
                        Command="{Binding TakePhotoCommand}"
                        BackgroundColor="{StaticResource Primary}"
                        TextColor="White"
                        CornerRadius="8" />
                
                <Button Grid.Column="1"
                        Text="{Binding [Camera_Gallery], Source={x:Static services:LocalizationResourceManager.Instance}}"
                        Command="{Binding PickPhotoCommand}"
                        BackgroundColor="{StaticResource Secondary}"
                        TextColor="White"
                        CornerRadius="8" />
            </Grid>
            
            <!-- Área da foto -->
            <Border IsVisible="{Binding HasPhoto}"
                    BackgroundColor="LightGray"
                    Padding="0"
                    StrokeThickness="0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10"/>
                </Border.StrokeShape>
                
                <StackLayout Spacing="10">
                    <!-- Imagem -->
                    <Image Source="{Binding PhotoPath}"
                           Aspect="AspectFit"
                           HeightRequest="300"
                           WidthRequest="300" />
                    
                    <!-- Botão para limpar -->
                    <Button Text="{Binding [Camera_ClearPhoto], Source={x:Static services:LocalizationResourceManager.Instance}}"
                            Command="{Binding ClearPhotoCommand}"
                            BackgroundColor="Red"
                            TextColor="White"
                            CornerRadius="8"
                            Margin="10" />
                </StackLayout>
            </Border>
            
            <!-- Mensagem quando não há foto -->
            <Border IsVisible="{Binding HasPhoto, Converter={StaticResource InvertedBoolConverter}}"
                    BackgroundColor="LightGray"
                    HeightRequest="300"
                    Padding="20"
                    StrokeThickness="0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="10"/>
                </Border.StrokeShape>
                
                <Label Text="{Binding [Camera_NoPhotoMessage], Source={x:Static services:LocalizationResourceManager.Instance}}"
                       FontSize="16"
                       TextColor="Gray"
                       HorizontalTextAlignment="Center"
                       VerticalTextAlignment="Center" />
            </Border>
            
        </StackLayout>
    </ScrollView>
    
</ContentPage>